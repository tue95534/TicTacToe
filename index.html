<html>
<head>
    <style>
        .pp {
            display: inline-flex; height: 100px; width: 100px; border: 2px solid; background-color: gray; vertical-align: middle;
            top:0px; text-align: center; justify-content: center; justify-items: center; align-items: center; margin: 10px;
            font-size: 75px;
        }
        
        .again {
            height: 50px;
            width: max-content;
            border: 2px solid;
            position: relative;
            margin: auto;
            margin-left: 145px;
            /*display: block;*/
        }
        
        /*row {*/
        /*    display: block;*/
        /*    margin: 0px;*/
        /*    padding: 0px;*/
        /*    }*/
        
        #win {
            border: 2px solid;
            width: 350px;
            margin-left: 8px;
            text-align: center;
            /*display: block;*/
            position: absolute;
        }
    </style>
    
</head>
<body>
    
    <button id="11" onclick="myFunction(this.id)" class="pp">_</button> <button id="12" onclick="myFunction(this.id)" class="pp">_</button> <button id="13" onclick="myFunction(this.id)" class="pp">_</button> <br>
    <button id="21" onclick="myFunction(this.id)" class="pp">_</button> <button id="22" onclick="myFunction(this.id)" class="pp">_</button> <button id="23" onclick="myFunction(this.id)" class="pp">_</button> <br>
    <button id="31" onclick="myFunction(this.id)" class="pp">_</button> <button id="32" onclick="myFunction(this.id)" class="pp">_</button> <button id="33" onclick="myFunction(this.id)" class="pp">_</button> <br>
    
    <h1 id="win">  </h1>
    <br> <br><br><br>
    <button id="again" onclick="restart()" class="again">Play again</button>
    
    <script>
    function gameCheck() {
        for (x = 1; x < 4; x++) {
            var rowid = "";
            for (y = 1; y < 4; y++) {
                var z = ""; z+= x; z+= y;
                rowid += document.getElementById(z).innerHTML;
            }
            if (rowid == "XXX" || rowid == "OOO"){
                    return true;
                } 
        }
        return false;
    }
    
    function restart() {
        for (x = 1; x < 4; x++){
            for (y = 1; y < 4; y++) {
                var z = ""; z+= x; z+= y;
                document.getElementById(z).innerHTML = "_";
            }
        }
        document.getElementById("win").innerHTML = "";
        var btnArray = document.getElementsByClassName("pp");
        for (x = 0; btnArray.length; x++) {
            var elidd = btnArray[x].getAttribute('id');
            btnArray[x].setAttribute( "onClick", "javascript: myFunction(this.id);" );
        }
    }
    
    function myFunction(idd) {
        if (document.getElementById(idd).innerHTML == "_"){
            document.getElementById(idd).innerHTML = "X";
        }
        if (gameCheck() == true) {
            document.getElementById("win").innerHTML = "You won!";
            var btnArray = document.getElementsByClassName("pp");
                for (x = 0; btnArray.length; x++) {
                    btnArray[x].setAttribute( "onClick", "javascript: end();" );
                }
        }
        else {
            if (computerWinH()) {
                document.getElementById("win").innerHTML = "You lost1!";
                var btnArray = document.getElementsByClassName("pp");
                for (x = 0; btnArray.length; x++) {
                    btnArray[x].setAttribute( "onClick", "javascript: end();" );
                }
            }
            else if (computerWinV()) {
                document.getElementById("win").innerHTML = "You lost2!";
                var btnArray = document.getElementsByClassName("pp");
                for (x = 0; btnArray.length; x++) {
                    btnArray[x].setAttribute( "onClick", "javascript: end();" );
                }
            }
            else if (computerWinD()) {
                document.getElementById("win").innerHTML = "You lost3!";
                var btnArray = document.getElementsByClassName("pp");
                for (x = 0; btnArray.length; x++) {
                    btnArray[x].setAttribute( "onClick", "javascript: end();" );
                }
            }
            else {
                outerloop:
                for (x = 1; x < 4; x++){
                    for (y = 1; y < 4; y++) {
                        var z = ""; z+= x; z+= y;
                        if (document.getElementById(z).innerHTML == "_") {
                            document.getElementById(z).innerHTML = "O";
                            break outerloop;
                        }
                    }
                }
            }
        }
    }
    
    function end() {
        var h = true;
    }
    
    function computerWinH() {
        for (x = 1; x < 4; x++) {
            var rowid = "";
            for (y = 1; y < 4; y++) {
                var z = ""; z+= x; z+= y;
                rowid += document.getElementById(z).innerHTML;
            }
            if (rowid == "OO_"){
                var z = ""; z+= x; z+= 3;
                document.getElementById(z).innerHTML = "O";   
                return true;
                } 
            else if (rowid == "O_O"){
                var z = ""; z+= x; z+= 2;
                document.getElementById(z).innerHTML = "O";   
                return true;
                }
            else if (rowid == "_OO"){
                var z = ""; z+= x; z+= 1;
                document.getElementById(z).innerHTML = "O";   
                return true;
                }
        }
        return false;
    }
    
    function computerWinV() {
        for (y = 1; y < 4; y++) {
            var rowid = "";
            for (x = 1; x < 4; x++) {
                var z = ""; z+= x; z+= y;
                rowid += document.getElementById(z).innerHTML;
            }
            if (rowid == "OO_"){
                var z = ""; z+= 3; z+= y;
                document.getElementById(z).innerHTML = "O";   
                return true;
                } 
            else if (rowid == "O_O"){
                var z = ""; z+= 2; z+= y;
                document.getElementById(z).innerHTML = "O";   
                return true;
                }
            else if (rowid == "_OO"){
                var z = ""; z+= 1; z+= y;
                document.getElementById(z).innerHTML = "O";   
                return true;
                } 
        }
        return false;
    }
    
    function computerWinD() {
        var rowid = "";
        for (x=1; x<4; x++) {
            var z = ""; z+=x; z+=x;
            rowid += document.getElementById(z).innerHTML;  
        }
        if (rowid == "OO_"){
            var z = ""; z+= x; z+= 3;
            document.getElementById(z).innerHTML = "O";   
            return true;
            } 
        else if (rowid == "O_O"){
            var z = ""; z+= x; z+= 2;
            document.getElementById(z).innerHTML = "O";   
            return true;
            }
        else if (rowid == "_OO"){
            var z = ""; z+= x; z+= 1;
            document.getElementById(z).innerHTML = "O";   
            return true;
            } 
        
        rowid = "";
        for (x=1; x<4; x++) { 
            var z = ""; z+= x; z+=(4-x);
            rowid += document.getElementById(z).innerHTML; 
        }
        
        if (rowid == "OO_"){
            var z = ""; z+= 3; z+= 1;
            document.getElementById(z).innerHTML = "O";   
            return true;
            } 
        else if (rowid == "O_O"){
            var z = ""; z+= 2; z+= 2;
            document.getElementById(z).innerHTML = "O";   
            return true;
            }
        else if (rowid == "_OO"){
            var z = ""; z+= 1; z+= 3;
            document.getElementById(z).innerHTML = "O";   
            return true;
            }
        else {
            return false;
        }
    }


    </script>
    
</body>
</html>

